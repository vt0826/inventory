
<div id="content" class="container">
  <div class="row">
    <%= render partial: "organizations/login_text" %>
    <div class="col-xs-12 col-sm-12 col-md-5 col-lg-4">
      <div class="well no-padding">
        <form action="/organizations" method="POST" id="smart-form-register" class="smart-form client-form">
          <input name="authenticity_token" value="<%= form_authenticity_token %>" type="hidden">
          <header>Registration</header>
            <h5 id="registration_fail"> <%= flash[:alert] %> </h5>
          <fieldset>
            <section>
              <label class="input">
                <i class="icon-append fa fa-envelope"></i>
                <input type="email" name="organization[email]" placeholder="Email address" id="email" autocomplete="off" placeholder="Email">
                <b class="tooltip tooltip-bottom-right">Needed to enter the website</b>
              </label>
            </section>
            <section>
              <label class="input">
                <i class="icon-append fa fa-lock"></i>
                <input type="password" name="organization[password]" placeholder="Password" id="password" autocomplete="off">
                <b class="tooltip tooltip-bottom-right">Don't forget your password</b>
              </label>
            </section>
            <section>
              <label class="input">
                <i class="icon-append fa fa-lock"></i>
                <input type="password" name="organization[password_confirmation]" placeholder="Confirm password" autocomplete="off">
                <b class="tooltip tooltip-bottom-right">Don't forget your password</b>
              </label>
            </section>
          </fieldset>
          <fieldset>
            <section>
              <label class="input">
                <input type="text" name="organization[organization]" placeholder="Business name" id="business_name" autocomplete="off">
              </label>
            </section>
            <section>
              <label class="input">
                <input type="text" name="organization[phone]" placeholder="Phone number" id="phone_number" autocomplete="off">
              </label>
            </section>
            <section>
              <label class="input">
                <input type="text" name="organization[street_name]" placeholder="Address" id="street_name" autocomplete="off">
              </label>
            </section>
            <div class="row">
              <section class="col col-6">
                <label class="input">
                  <input type="text" name="organization[city]" placeholder="City">
                </label>
              </section>
              <section class="col col-6">
                <label class="select">
                  <select name="organization[state]">
                    <option value="0" selected="" disabled="">State</option>
                    <% @states.each do |state| %>
                      <option value="<%= state %>"> <%= state %></option>
                    <% end %>
                  </select> <i></i>
                </label>
              </section>

            </div>
            <section>
              <label class="input">
                <input type="text" name="organization[zip_code]" placeholder="Zip Code">
              </label>
            </section>  
          </fieldset>             
          <fieldset>
            <section>
                <i></i><a href="#" data-toggle="modal" data-target="#myModal"> Terms and Conditions </a>
            </section>
          </fieldset>

          <footer>
            <button type="submit" class="btn btn-primary">
              Register
            </button>
          </footer>
        </form>
      </div>
    </div>
  </div>
</div>

<%= render partial: "layouts/terms_and_conditions" %>

<script type="text/javascript">
    // Model i agree button
  $("#i-agree").click(function () {
    var $this = $("#terms");
    if ($this.checked) {
      $('#myModal').modal('toggle');
    } else {
      $this.prop('checked', true);
      $('#myModal').modal('toggle');
    }
  });

    // Validation
  $(function () {
  // Validation
    $("#smart-form-register").validate({
      // Rules for form validation
      rules: {
        email: {
          required: true,
          email: true
        },
      emailConfirm: {
        required: true,
        email: true,
        equalTo: '#email'
      },
      password: {
        required: true,
        minlength: 4,
        maxlength: 20
      },
      passwordConfirm: {
        required: true,
        minlength: 4,
        maxlength: 20,
        equalTo: '#password'
      },
      firstname: {
        required: false
      },
      lastname: {
        required: false
      },
      gender: {
        required: false
      },
      terms: {
        required: true
      }
  },

// Messages for form validation
    messages: {
      email: {
        required: 'Please enter your email address',
        email: 'Please enter a VALID email address'
      },
      emailConfirm: {
        required: 'Please enter your email address one more time',
        email: 'Please enter a VALID email address',
        equalTo: 'Please enter the same email address as above'
      },
      password: {
        required: 'Please enter your password'
      },
      passwordConfirm: {
        required: 'Please enter your password one more time',
        equalTo: 'Please enter the same password as above'
      },
      terms: {
        required: 'You must agree with Terms and Conditions'
      }
    },

// Do not change code below
      errorPlacement: function (error, element) {
      error.insertAfter(element.parent());
      }
    });
  });
</script>




